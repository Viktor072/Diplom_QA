# ПЛАН АВТОМАТИЗАЦИИ ВЕБ СЕРВИСА "ПУТЕШЕСТВИЕ ДНЯ"

# Исходные данные

**Валидными данными при заполнении полей следует считать:**
1. "Номер карты": 16 цифр в формате **** **** **** ****
2. "Месяц": число от 01 до 12 (если текущий год вводится в поле "Год", то номер месяца не должен быть раньше текущего)
3. "Год": две последние цифры текущего или последующих годов (но не более 5 лет от текущего года)
4. "Владелец": Фамилия и Имя на латинице через пробел
5. "СVC/CVV": три цифры
   Номера карт, используемых для тестирования:
1. Номер разрешенной карты : "4444 4444 4444 4441" статус карты "APPROVED"
2. Номер запрещенной карты: "4444 4444 4444 4442" статус карты "DECLINED"
   Перечень автоматизируемых сценариев:

# Позитивные сценарии:
1. Оплата по карте со статусом APPROVED
   Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными значениями
   Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".
2. Кредит по данным карты со статусом APPROVED
   Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными значениями
   Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".
3. Оплата по карте со статусом DECLINED
   Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями
   Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".
4. Кредит по данным карты со статусом DECLINED
   Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями
   Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции".
5. Оплата по карте со статусом APPROVED
   Номер карты 4444 4444 4444 4441, поле год заполнено граничным значением года (текущий год + 5), остальные поля заполнены корректными значениями
   Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".
6. Кредит по данным карты со статусом APPROVED
   Номер карты 4444 4444 4444 4441, поле год заполнено граничным значением года (текущий год + 5), остальные поля заполнены корректными значениями
   Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".

# Негативные сценарии оплаты с карты (не в кредит)

1. Проверка покупки тура по карте с невалидным кодом в поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 8787 7878 5545 8989, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".
2. Проверка покупки тура при вводе всех нулей в поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 0000 0000 0000 0000, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".
3. Проверка покупки тура при пустом поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: , месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".
4. Проверка покупки тура при вводе специальных символов в поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: #$%% ^%$$ &&%% &%*&{ , месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".


5. Проверка покупки тура по карте с невалидным числом в поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 90, год: 22, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверно указан срок действия карты".
6. Проверка покупки тура при вводе нулей в поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 00, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверно указан срок действия карты".
7. Проверка покупки тура при пустом поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: , год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверный формат".
8. Проверка покупки тура при вводе специальных символов в поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: &*, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверный формат".


9. Проверка покупки тура по карте с невалидным числом в поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 10, год: 88, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверно указан срок действия карты".
10. Проверка покупки тура при вводе нулей в поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 00, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Истёк срок действия карты".
11. Проверка покупки тура при пустом поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: , владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
12. Проверка покупки тура при воде специальных символов в поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: &*, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".



13. Проверка покупки тура при вводе кириллицы в поле  "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11 год: 23, владелец: ПЕТРОВ ВОДКИН, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
14. Проверка покупки тура при вводе нулей в поле "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 00, владелец: 0000 00000, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
15. Проверка покупки тура при пустом поле "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: , владелец: , cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Поле обязательно для заполнения".
16. Проверка покупки тура при вводе специальных символов в поле "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: "%::.;;(", cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".


17. Проверка покупки тура с невалидным числом в поле  "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11 год: 23, владелец: MARIA IVANOVA, cvc/cvv: 2).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
18. Проверка покупки тура при вводе нулей в поле "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 000).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
19. Проверка покупки тура при пустом поле "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: ).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
20. Проверка покупки тура при вводе специальных символов в поле "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: "%::.;;(", cvc/cvv: %::).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".

# Негативные сценарии оплаты с кредитной карты

21. Проверка покупки тура по карте с невалидным кодом в поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 8787 7878 5545 8989, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".
22. Проверка покупки тура при вводе всех нулей в поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 0000 0000 0000 0000, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".
23. Проверка покупки тура при пустом поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: , месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".
24. Проверка покупки тура при вводе специальных символов в поле "Номер карты"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: #$%% ^%$$ &&%% &%*&{ , месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".


25. Проверка покупки тура по карте с невалидным числом в поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 90, год: 22, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверно указан срок действия карты".
26. Проверка покупки тура при вводе нулей в поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 00, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверно указан срок действия карты".
27. Проверка покупки тура при пустом поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: , год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверный формат".
28. Проверка покупки тура при вводе специальных символов в поле "Месяц"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: &*, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем месяц появится сообщение "Неверный формат".


29. Проверка покупки тура по карте с невалидным числом в поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 10, год: 88, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверно указан срок действия карты".
30. Проверка покупки тура при вводе нулей в поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 00, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Истёк срок действия карты".
31. Проверка покупки тура при пустом поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: , владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
32. Проверка покупки тура при воде специальных символов в поле "Год"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: &*, владелец: MARIA IVANOVA, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".



33. Проверка покупки тура при вводе кириллицы в поле  "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11 год: 23, владелец: ПЕТРОВ ВОДКИН, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
34. Проверка покупки тура при вводе нулей в поле "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 00, владелец: 0000 00000, cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
35. Проверка покупки тура при пустом поле "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: , владелец: , cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Поле обязательно для заполнения".
36. Проверка покупки тура при вводе специальных символов в поле "Владелец"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: "%::.;;(", cvc/cvv: 123).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".


37. Проверка покупки тура с невалидным числом в поле  "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11 год: 23, владелец: MARIA IVANOVA, cvc/cvv: 2).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
38. Проверка покупки тура при вводе нулей в поле "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: 000).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
39. Проверка покупки тура при пустом поле "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: MARIA IVANOVA, cvc/cvv: ).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".
40. Проверка покупки тура при вводе специальных символов в поле "CVC"
* Открыть сайт http://localhost:8080/, нажать "Купить в кредит".
* Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 11, год: 23, владелец: "%::.;;(", cvc/cvv: %::).
* Нажать Продолжить.
* Ожидаемый результат: под полем год появится сообщение "Неверный формат".

# API-тесты
**Post запросы**
1. Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/payment
   Ожидаемый результат: ответ сервера: код 200
2. Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/payment
   Ожидаемый результат: ответ сервера: код 200
3. Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/credit
   Ожидаемый результат: ответ сервера: код 200
4. Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/credit
   Ожидаемый результат: ответ сервера: код 200


# Перечень используемых инструментов с обоснованием выбора:
1. Java 11 - язык написания авто-тестов
2. IntelliJ IDEA – программа, в которой пишем приложение
3. GIT- система контроля версий для размещения проекта в открытом доступе
4. MySQL - база данных для запуска приложения
5. PostgreSQL - база данных для запуска приложения
6. Faker – генератор случайных имён владельца карты
7. Gradle - система автоматизации сборки и управления зависимостями
8. JUnit — платформа для написания авто-тестов и их запуска
9. Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, более удобный и простой в использовании, чем Selenium
10. Docker Compose - инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер необходимые для работы приложения Node.js и СУБД
11. Allure - фреймворк, предназначенный для создания отчетов, более наглядных, чем у Gradle

# Перечень и описание возможных рисков при автоматизации:
1. Технические проблемы с настройками программ для тестирования
2. Нечёткое ТЗ из-за которого могут быть дополнительные правки
3. Необходимость проверки работы приложения с двумя базами данных mysql и postgresql
4. Возможные проблемы совместимости версий плагинов в IntelliJ IDEA между собой

# Интервальная оценка с учетом рисков в часах:
1. Знакомство с приложением – 10 часов
2. Планирование автоматизации тестирования – 10 часов
3. Непосредственно сама автоматизация – 60 часов
4. Запуск автотестов и отладка – 10 часов
5. Оформление баг-репортов – 5 часов
6. Подготовке отчётных документов по итогам - автоматизированного тестирования – 10 часов
7. Учёт рисков – 30 часов

   **Итого – 135 часов**

# План сдачи работ:
1. Подготовка автотестов: 19 - 25.08.2023
2. Результаты прогона автотестов: 25.08.2023
3. Отчёт по автоматизации: 29.08.2023
